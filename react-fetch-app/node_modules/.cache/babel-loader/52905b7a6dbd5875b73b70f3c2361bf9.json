{"ast":null,"code":"export default class GotService {\n  constructor() {\n    this._apiBase = 'https://anapioficeandfire.com/api';\n  }\n\n  async getResource(url) {\n    const res = await fetch(\"\".concat(this._apiBase).concat(url));\n\n    if (!res.ok) {\n      throw new Error(\"Could not fetch \".concat(url) + \", received \".concat(res.status));\n    }\n\n    return await res.json();\n  }\n\n  async getAllCharacters() {\n    const res = await this.getResource('/characters?page=5&pageSize=10');\n    return res.map(this._transformCharacter());\n  }\n\n  async getCharacters(id) {\n    const char = await this.getResource(\"/characters/\".concat(id));\n    return this._transformCharacter();\n  }\n\n  getAllBooks() {\n    return this.getResource(\"books?page=5&pageSize=10\");\n  }\n\n  getBooks(id) {\n    return this.getResource(\"books/\".concat(id));\n  }\n\n  getAllHouses() {\n    return this.getResource(\"houses?page=5&pageSize=10\");\n  }\n\n  getHouses(id) {\n    return this.getResource(\"houses/\".concat(id));\n  }\n\n  _transformCharacter(char) {\n    return {\n      name: char.name,\n      gender: char.gender,\n      born: char.born,\n      died: char.died,\n      culture: char.culture\n    };\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Lex/react-course/React/react-fetch-app/src/services/gotService.js"],"names":["GotService","constructor","_apiBase","getResource","url","res","fetch","ok","Error","status","json","getAllCharacters","map","_transformCharacter","getCharacters","id","char","getAllBooks","getBooks","getAllHouses","getHouses","name","gender","born","died","culture"],"mappings":"AAAA,eAAe,MAAMA,UAAN,CAAiB;AAC9BC,EAAAA,WAAW,GAAG;AACZ,SAAKC,QAAL,GAAgB,mCAAhB;AACD;;AAED,QAAMC,WAAN,CAAkBC,GAAlB,EAAuB;AACrB,UAAMC,GAAG,GAAG,MAAMC,KAAK,WAAI,KAAKJ,QAAT,SAAoBE,GAApB,EAAvB;;AAEA,QAAI,CAACC,GAAG,CAACE,EAAT,EAAa;AACX,YAAM,IAAIC,KAAJ,CAAU,0BAAmBJ,GAAnB,yBACAC,GAAG,CAACI,MADJ,CAAV,CAAN;AAED;;AACD,WAAO,MAAMJ,GAAG,CAACK,IAAJ,EAAb;AACD;;AAED,QAAMC,gBAAN,GAAyB;AACvB,UAAMN,GAAG,GAAG,MAAM,KAAKF,WAAL,CAAiB,gCAAjB,CAAlB;AACE,WAAOE,GAAG,CAACO,GAAJ,CAAQ,KAAKC,mBAAL,EAAR,CAAP;AACH;;AAED,QAAMC,aAAN,CAAoBC,EAApB,EAAwB;AACtB,UAAMC,IAAI,GAAG,MAAM,KAAKb,WAAL,uBAAgCY,EAAhC,EAAnB;AACA,WAAO,KAAKF,mBAAL,EAAP;AACD;;AAEDI,EAAAA,WAAW,GAAG;AACZ,WAAO,KAAKd,WAAL,4BAAP;AACD;;AAEDe,EAAAA,QAAQ,CAACH,EAAD,EAAK;AACX,WAAO,KAAKZ,WAAL,iBAA0BY,EAA1B,EAAP;AACD;;AAEDI,EAAAA,YAAY,GAAG;AACb,WAAO,KAAKhB,WAAL,6BAAP;AACD;;AAEDiB,EAAAA,SAAS,CAACL,EAAD,EAAK;AACZ,WAAO,KAAKZ,WAAL,kBAA2BY,EAA3B,EAAP;AACD;;AAEDF,EAAAA,mBAAmB,CAACG,IAAD,EAAO;AACxB,WAAO;AACLK,MAAAA,IAAI,EAAEL,IAAI,CAACK,IADN;AAELC,MAAAA,MAAM,EAAEN,IAAI,CAACM,MAFR;AAGLC,MAAAA,IAAI,EAAEP,IAAI,CAACO,IAHN;AAILC,MAAAA,IAAI,EAAER,IAAI,CAACQ,IAJN;AAKLC,MAAAA,OAAO,EAAET,IAAI,CAACS;AALT,KAAP;AAOD;;AAjD6B","sourcesContent":["export default class GotService {\r\n  constructor() {\r\n    this._apiBase = 'https://anapioficeandfire.com/api'\r\n  }\r\n\r\n  async getResource(url) {\r\n    const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}` +\r\n        `, received ${res.status}`);\r\n    }\r\n    return await res.json();\r\n  }\r\n\r\n  async getAllCharacters() {\r\n    const res = await this.getResource('/characters?page=5&pageSize=10');\r\n      return res.map(this._transformCharacter())\r\n  }\r\n\r\n  async getCharacters(id) {\r\n    const char = await this.getResource(`/characters/${id}`);\r\n    return this._transformCharacter()\r\n  }\r\n\r\n  getAllBooks() {\r\n    return this.getResource(`books?page=5&pageSize=10`)\r\n  }\r\n\r\n  getBooks(id) {\r\n    return this.getResource(`books/${id}`)\r\n  }\r\n\r\n  getAllHouses() {\r\n    return this.getResource(`houses?page=5&pageSize=10`)\r\n  }\r\n\r\n  getHouses(id) {\r\n    return this.getResource(`houses/${id}`)\r\n  }\r\n\r\n  _transformCharacter(char) {\r\n    return {\r\n      name: char.name,\r\n      gender: char.gender,\r\n      born: char.born,\r\n      died: char.died,\r\n      culture: char.culture\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}