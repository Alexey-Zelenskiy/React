{"ast":null,"code":"export default class GotService {\n  constructor() {\n    this._apiBase = 'https://anapioficeandfire.com/api';\n  }\n\n  async getResource(url) {\n    const res = await fetch(\"\".concat(this._apiBase).concat(url));\n\n    if (!res.ok) {\n      throw new Error(\"Could not fetch \".concat(url) + \", received \".concat(res.status));\n    }\n\n    return await res.json();\n  }\n\n  async getAllCharacters() {\n    const res = await this.getResource('/characters?page=5&pageSize=10');\n    return res.map(this._transformCharacter());\n  }\n\n  async getCharacters(id) {\n    const character = await this.getResource(\"/characters/\".concat(id));\n    return this._transformCharacter(character);\n  }\n\n  getAllBooks() {\n    return this.getResource(\"books?page=5&pageSize=10\");\n  }\n\n  getBooks(id) {\n    return this.getResource(\"books/\".concat(id));\n  }\n\n  getAllHouses() {\n    return this.getResource(\"houses?page=5&pageSize=10\");\n  }\n\n  getHouses(id) {\n    return this.getResource(\"houses/\".concat(id));\n  }\n\n  _transformCharacter(char) {\n    return {\n      name: char.name,\n      gender: char.gender,\n      born: char.born,\n      died: char.died,\n      culture: char.culture\n    };\n  }\n\n  _transformHouse(house) {\n    return {\n      name: house.name,\n      region: house.region,\n      words: house.words,\n      titles: house.titles,\n      overlord: house.overlord,\n      ancestralWeapons: house.ancestralWeapons\n    };\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Lex/react-course/React/react-fetch-app/src/services/gotService.js"],"names":["GotService","constructor","_apiBase","getResource","url","res","fetch","ok","Error","status","json","getAllCharacters","map","_transformCharacter","getCharacters","id","character","getAllBooks","getBooks","getAllHouses","getHouses","char","name","gender","born","died","culture","_transformHouse","house","region","words","titles","overlord","ancestralWeapons"],"mappings":"AAAA,eAAe,MAAMA,UAAN,CAAiB;AAC9BC,EAAAA,WAAW,GAAG;AACZ,SAAKC,QAAL,GAAgB,mCAAhB;AACD;;AAED,QAAMC,WAAN,CAAkBC,GAAlB,EAAuB;AACrB,UAAMC,GAAG,GAAG,MAAMC,KAAK,WAAI,KAAKJ,QAAT,SAAoBE,GAApB,EAAvB;;AAEA,QAAI,CAACC,GAAG,CAACE,EAAT,EAAa;AACX,YAAM,IAAIC,KAAJ,CAAU,0BAAmBJ,GAAnB,yBACAC,GAAG,CAACI,MADJ,CAAV,CAAN;AAED;;AACD,WAAO,MAAMJ,GAAG,CAACK,IAAJ,EAAb;AACD;;AAED,QAAMC,gBAAN,GAAyB;AACvB,UAAMN,GAAG,GAAG,MAAM,KAAKF,WAAL,CAAiB,gCAAjB,CAAlB;AACA,WAAOE,GAAG,CAACO,GAAJ,CAAQ,KAAKC,mBAAL,EAAR,CAAP;AACD;;AAED,QAAMC,aAAN,CAAoBC,EAApB,EAAwB;AACtB,UAAMC,SAAS,GAAG,MAAM,KAAKb,WAAL,uBAAgCY,EAAhC,EAAxB;AACA,WAAO,KAAKF,mBAAL,CAAyBG,SAAzB,CAAP;AACD;;AAEDC,EAAAA,WAAW,GAAG;AACZ,WAAO,KAAKd,WAAL,4BAAP;AACD;;AAEDe,EAAAA,QAAQ,CAACH,EAAD,EAAK;AACX,WAAO,KAAKZ,WAAL,iBAA0BY,EAA1B,EAAP;AACD;;AAEDI,EAAAA,YAAY,GAAG;AACb,WAAO,KAAKhB,WAAL,6BAAP;AACD;;AAEDiB,EAAAA,SAAS,CAACL,EAAD,EAAK;AACZ,WAAO,KAAKZ,WAAL,kBAA2BY,EAA3B,EAAP;AACD;;AAEDF,EAAAA,mBAAmB,CAACQ,IAAD,EAAO;AACxB,WAAO;AACLC,MAAAA,IAAI,EAAED,IAAI,CAACC,IADN;AAELC,MAAAA,MAAM,EAAEF,IAAI,CAACE,MAFR;AAGLC,MAAAA,IAAI,EAAEH,IAAI,CAACG,IAHN;AAILC,MAAAA,IAAI,EAAEJ,IAAI,CAACI,IAJN;AAKLC,MAAAA,OAAO,EAAEL,IAAI,CAACK;AALT,KAAP;AAOD;;AAEDC,EAAAA,eAAe,CAACC,KAAD,EAAQ;AACrB,WAAO;AACLN,MAAAA,IAAI,EAAEM,KAAK,CAACN,IADP;AAELO,MAAAA,MAAM,EAAED,KAAK,CAACC,MAFT;AAGHC,MAAAA,KAAK,EAACF,KAAK,CAACE,KAHT;AAIHC,MAAAA,MAAM,EAACH,KAAK,CAACG,MAJV;AAKHC,MAAAA,QAAQ,EAACJ,KAAK,CAACI,QALZ;AAMHC,MAAAA,gBAAgB,EAACL,KAAK,CAACK;AANpB,KAAP;AASD;;AA7D6B","sourcesContent":["export default class GotService {\r\n  constructor() {\r\n    this._apiBase = 'https://anapioficeandfire.com/api'\r\n  }\r\n\r\n  async getResource(url) {\r\n    const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}` +\r\n        `, received ${res.status}`);\r\n    }\r\n    return await res.json();\r\n  }\r\n\r\n  async getAllCharacters() {\r\n    const res = await this.getResource('/characters?page=5&pageSize=10');\r\n    return res.map(this._transformCharacter())\r\n  }\r\n\r\n  async getCharacters(id) {\r\n    const character = await this.getResource(`/characters/${id}`);\r\n    return this._transformCharacter(character)\r\n  }\r\n\r\n  getAllBooks() {\r\n    return this.getResource(`books?page=5&pageSize=10`)\r\n  }\r\n\r\n  getBooks(id) {\r\n    return this.getResource(`books/${id}`)\r\n  }\r\n\r\n  getAllHouses() {\r\n    return this.getResource(`houses?page=5&pageSize=10`)\r\n  }\r\n\r\n  getHouses(id) {\r\n    return this.getResource(`houses/${id}`)\r\n  }\r\n\r\n  _transformCharacter(char) {\r\n    return {\r\n      name: char.name,\r\n      gender: char.gender,\r\n      born: char.born,\r\n      died: char.died,\r\n      culture: char.culture\r\n    }\r\n  }\r\n\r\n  _transformHouse(house) {\r\n    return {\r\n      name: house.name,\r\n      region: house.region,\r\n        words:house.words,\r\n        titles:house.titles,\r\n        overlord:house.overlord,\r\n        ancestralWeapons:house.ancestralWeapons\r\n\r\n    }\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}