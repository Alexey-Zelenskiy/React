{"ast":null,"code":"export default class GotService {\n  constructor() {\n    this._apiBase = 'https://anapioficeandfire.com/api';\n  }\n\n  async getResource(url) {\n    const res = await fetch(\"\".concat(this._apiBase).concat(url));\n\n    if (!res.ok) {\n      throw new Error(\"Could not fetch \".concat(url) + \", received \".concat(res.status));\n    }\n\n    return await res.json();\n  }\n\n  async getAllCharacters() {\n    const res = await this.getResource('/characters?page=5&pageSize=10');\n    return res.map(this._transformCharacter());\n  }\n\n  async getCharacters(id) {\n    const character = await this.getResource(\"/characters/\".concat(id));\n    return this._transformCharacter(character);\n  }\n\n  async getAllBooks() {\n    const res = await this.getResource(\"books?page=5&pageSize=10\");\n    return res.map(this._transformBook());\n  }\n\n  async getBooks(id) {\n    const book = await this.getResource(\"books/\".concat(id));\n    return this._transformBook(book);\n  }\n\n  async getAllHouses() {\n    const res = await this.getResource(\"houses?page=5&pageSize=10\");\n    return res.map(this._transformHouse());\n  }\n\n  async getHouses(id) {\n    const house = await this.getResource(\"houses/\".concat(id));\n    return this._transformHouse(house);\n  }\n\n  _transformCharacter(char) {\n    return {\n      name: char.name,\n      gender: char.gender,\n      born: char.born,\n      died: char.died,\n      culture: char.culture\n    };\n  }\n\n  _transformHouse(house) {\n    return {\n      name: house.name,\n      region: house.region,\n      words: house.words,\n      titles: house.titles,\n      overlord: house.overlord,\n      ancestralWeapons: house.ancestralWeapons\n    };\n  }\n\n  _transformBook(book) {\n    return {\n      name: book.name,\n      numberOfPages: book.number,\n      publiser: book.publiser,\n      released: book.released\n    };\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Lex/react-course/React/react-fetch-app/src/services/gotService.js"],"names":["GotService","constructor","_apiBase","getResource","url","res","fetch","ok","Error","status","json","getAllCharacters","map","_transformCharacter","getCharacters","id","character","getAllBooks","_transformBook","getBooks","book","getAllHouses","_transformHouse","getHouses","house","char","name","gender","born","died","culture","region","words","titles","overlord","ancestralWeapons","numberOfPages","number","publiser","released"],"mappings":"AAAA,eAAe,MAAMA,UAAN,CAAiB;AAC9BC,EAAAA,WAAW,GAAG;AACZ,SAAKC,QAAL,GAAgB,mCAAhB;AACD;;AAED,QAAMC,WAAN,CAAkBC,GAAlB,EAAuB;AACrB,UAAMC,GAAG,GAAG,MAAMC,KAAK,WAAI,KAAKJ,QAAT,SAAoBE,GAApB,EAAvB;;AAEA,QAAI,CAACC,GAAG,CAACE,EAAT,EAAa;AACX,YAAM,IAAIC,KAAJ,CAAU,0BAAmBJ,GAAnB,yBACAC,GAAG,CAACI,MADJ,CAAV,CAAN;AAED;;AACD,WAAO,MAAMJ,GAAG,CAACK,IAAJ,EAAb;AACD;;AAED,QAAMC,gBAAN,GAAyB;AACvB,UAAMN,GAAG,GAAG,MAAM,KAAKF,WAAL,CAAiB,gCAAjB,CAAlB;AACA,WAAOE,GAAG,CAACO,GAAJ,CAAQ,KAAKC,mBAAL,EAAR,CAAP;AACD;;AAED,QAAMC,aAAN,CAAoBC,EAApB,EAAwB;AACtB,UAAMC,SAAS,GAAG,MAAM,KAAKb,WAAL,uBAAgCY,EAAhC,EAAxB;AACA,WAAO,KAAKF,mBAAL,CAAyBG,SAAzB,CAAP;AACD;;AAED,QAAMC,WAAN,GAAoB;AAChB,UAAMZ,GAAG,GAAG,MAAM,KAAKF,WAAL,4BAAlB;AACA,WAAOE,GAAG,CAACO,GAAJ,CAAQ,KAAKM,cAAL,EAAR,CAAP;AACH;;AAED,QAAMC,QAAN,CAAeJ,EAAf,EAAmB;AACf,UAAMK,IAAI,GAAG,MAAM,KAAKjB,WAAL,iBAA0BY,EAA1B,EAAnB;AACA,WAAO,KAAKG,cAAL,CAAoBE,IAApB,CAAP;AACH;;AAED,QAAMC,YAAN,GAAqB;AACjB,UAAMhB,GAAG,GAAG,MAAM,KAAKF,WAAL,6BAAlB;AACA,WAAOE,GAAG,CAACO,GAAJ,CAAQ,KAAKU,eAAL,EAAR,CAAP;AACH;;AAED,QAAMC,SAAN,CAAgBR,EAAhB,EAAoB;AAChB,UAAMS,KAAK,GAAG,MAAM,KAAKrB,WAAL,kBAA2BY,EAA3B,EAApB;AACA,WAAO,KAAKO,eAAL,CAAqBE,KAArB,CAAP;AACH;;AAEDX,EAAAA,mBAAmB,CAACY,IAAD,EAAO;AACxB,WAAO;AACLC,MAAAA,IAAI,EAAED,IAAI,CAACC,IADN;AAELC,MAAAA,MAAM,EAAEF,IAAI,CAACE,MAFR;AAGLC,MAAAA,IAAI,EAAEH,IAAI,CAACG,IAHN;AAILC,MAAAA,IAAI,EAAEJ,IAAI,CAACI,IAJN;AAKLC,MAAAA,OAAO,EAAEL,IAAI,CAACK;AALT,KAAP;AAOD;;AAEDR,EAAAA,eAAe,CAACE,KAAD,EAAQ;AACrB,WAAO;AACLE,MAAAA,IAAI,EAAEF,KAAK,CAACE,IADP;AAELK,MAAAA,MAAM,EAAEP,KAAK,CAACO,MAFT;AAGLC,MAAAA,KAAK,EAAER,KAAK,CAACQ,KAHR;AAILC,MAAAA,MAAM,EAAET,KAAK,CAACS,MAJT;AAKLC,MAAAA,QAAQ,EAAEV,KAAK,CAACU,QALX;AAMLC,MAAAA,gBAAgB,EAAEX,KAAK,CAACW;AANnB,KAAP;AASD;;AAEDjB,EAAAA,cAAc,CAACE,IAAD,EAAO;AACnB,WAAO;AACLM,MAAAA,IAAI,EAAEN,IAAI,CAACM,IADN;AAELU,MAAAA,aAAa,EAAEhB,IAAI,CAACiB,MAFf;AAGLC,MAAAA,QAAQ,EAAElB,IAAI,CAACkB,QAHV;AAILC,MAAAA,QAAQ,EAAEnB,IAAI,CAACmB;AAJV,KAAP;AAMD;;AA1E6B","sourcesContent":["export default class GotService {\r\n  constructor() {\r\n    this._apiBase = 'https://anapioficeandfire.com/api'\r\n  }\r\n\r\n  async getResource(url) {\r\n    const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}` +\r\n        `, received ${res.status}`);\r\n    }\r\n    return await res.json();\r\n  }\r\n\r\n  async getAllCharacters() {\r\n    const res = await this.getResource('/characters?page=5&pageSize=10');\r\n    return res.map(this._transformCharacter())\r\n  }\r\n\r\n  async getCharacters(id) {\r\n    const character = await this.getResource(`/characters/${id}`);\r\n    return this._transformCharacter(character)\r\n  }\r\n\r\n  async getAllBooks() {\r\n      const res = await this.getResource(`books?page=5&pageSize=10`);\r\n      return res.map(this._transformBook())\r\n  }\r\n\r\n  async getBooks(id) {\r\n      const book = await this.getResource(`books/${id}`)\r\n      return this._transformBook(book)\r\n  }\r\n\r\n  async getAllHouses() {\r\n      const res = await this.getResource(`houses?page=5&pageSize=10`)\r\n      return res.map(this._transformHouse())\r\n  }\r\n\r\n  async getHouses(id) {\r\n      const house = await this.getResource(`houses/${id}`)\r\n      return this._transformHouse(house)\r\n  }\r\n\r\n  _transformCharacter(char) {\r\n    return {\r\n      name: char.name,\r\n      gender: char.gender,\r\n      born: char.born,\r\n      died: char.died,\r\n      culture: char.culture\r\n    }\r\n  }\r\n\r\n  _transformHouse(house) {\r\n    return {\r\n      name: house.name,\r\n      region: house.region,\r\n      words: house.words,\r\n      titles: house.titles,\r\n      overlord: house.overlord,\r\n      ancestralWeapons: house.ancestralWeapons\r\n\r\n    }\r\n  }\r\n\r\n  _transformBook(book) {\r\n    return {\r\n      name: book.name,\r\n      numberOfPages: book.number,\r\n      publiser: book.publiser,\r\n      released: book.released\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}